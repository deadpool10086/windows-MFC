<html> <head> <meta http-equiv="Content-Type" content="text/html; charset=gb2312" /> <title></title> <link href="inc/style.css" rel="stylesheet" type="text/css"> </head>  <body class=infobody> <table width="100%" height="100%" cellspacing="0">  <tr>  <td valign="top"> <table>   <tr>   <td height=25></td>   </tr>           <table width="100%" border="0" align="center" cellpadding="0" cellspacing="0" style="border-bottom:#1873b5 solid 1px">             <tr><td style="background-image:url(images/cinfo_left.GIF);display:" width="5"></td>               <td width="86" height="28" style="padding-left:4px;padding-right:4px;background-image:url(images/cinfo_center.GIF);color:#3081bd;text-align:center;padding-bottom:0px;padding-top:4px;display:"><nobr>内容摘要</nobr></td> <td style="background-image:url(images/cinfo_right.GIF);display:" width="5"></td>               <td>&nbsp;</td>             </tr>           </table>           <table width="100%" border="0" align="center" cellpadding="5" cellspacing="1" bgcolor="#FFFFFF" style="border:#1873b5 solid 1px;border-top:0px">             <tr>               <td bgcolor="#F5FAFA" style="padding-left:20;padding-right:20px" id="ptitle">一. DHCP简介<BR>二. DHCP报文格式</td>             </tr>           </table> <table>   <tr>   <td height=25></td>   </tr>           <table width="100%" border="0" align="center" cellpadding="0" cellspacing="0" style="border-bottom:#1873b5 solid 1px">             <tr><td style="background-image:url(images/cinfo_left.GIF);display:" width="5"></td>               <td width="86" height="28" style="padding-left:4px;padding-right:4px;background-image:url(images/cinfo_center.GIF);color:#3081bd;text-align:center;padding-bottom:0px;padding-top:4px;display:"><nobr>相关内容</nobr></td> <td style="background-image:url(images/cinfo_right.GIF);display:" width="5"></td>               <td>&nbsp;</td>             </tr>           </table>           <table width="100%" border="0" align="center" cellpadding="5" cellspacing="1" bgcolor="#FFFFFF" style="border:#1873b5 solid 1px;border-top:0px">             <tr>               <td bgcolor="#F5FAFA" style="padding-left:20;padding-right:20px" id="ptitle"><P><STRONG>一. DHCP简介<BR></STRONG>&nbsp;&nbsp;&nbsp; DHCP(动态主机配置协议）提供了一种动态指定IP地址的机制。DHCP主要用于大型网络环境和配置IP比较困难的地方。DHCP服务器自动为客户端指定IP地址，使得网络上的计算机通信变得方便而容易实现。DHCP使IP地址可以租用，租期从1分钟到100年不定，当租期到了的时候，服务器可以把这个IP地址分配给别的主机使用。<BR>&nbsp;&nbsp;&nbsp; DHCP使用UDP协议封装，使用UDP的熟知端口67和68。<BR><STRONG>二. DHCP报文格式</STRONG><BR>&nbsp;&nbsp;&nbsp; 下图为DHCP的报文格式：</P>
<P align=center><IMG src="../upload/1223253993609_pic.gif"></P>
<P align=center>图10-1&nbsp; DHCP报文格式</P>
<P>&nbsp;&nbsp;&nbsp; ●&nbsp; 操作码：规定报文是请求报文还是应答报文。1代表请求报文，2代表应答报文。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 硬件地址类型：表示正在使用的硬件技术的类型。1代表以太网。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 硬件地址长度：规定硬件地址的字节长度。在以太网中，该字段的值为6。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 跳数：规定了报文所能经过的最大跳数。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 事务ID：携带一个由客户端使用的整数，来匹配应答和请求。它的值由客户端随机生成，服务器在发送应答时返回给客户端同一个值。当客户端检查请求数据包并在发送的事务ID中发现差异时，客户端的硬件地址就可以用来确保该响应是发给该客户端的。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 秒数：它表示从客户端开始引导起到目前为止，共经过的秒数。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 标志：该字段强制服务器将他的应答广播给客户端。客户端不能处理单播应答，因为它不能识别自己的IP地址。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 客户端IP地址：如果该客户已经知道自身的IP地址，它将写入“客户IP地址”字段。否则，它将该字段设置为0。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 你（客户端）的IP地址：服务器用该客户的IP地址写入“你的IP地址”字段。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 服务器IP地址：由服务器填写，该服务器的IP地址。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 代理服务器的IP地址：如果使用了某个代理服务器，则该代理服务器就填写“代理服务器的IP地址”字段。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 客户端硬件地址：指定客户端的硬件地址。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 服务器主机名称：该字段是一个空值终止串，由服务器填写。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 引导文件名：服务器在该字段填入包括用于系统引导的文件名及其所在位置的路径全名。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 选项：该字段包含额外的子字段，比如指定DHCP服务器和客户端之间接口类型的字段，以及表示租借时间长短的字段。下图所示为一种子字段的格式，该子字段规定了在客户端和服务器间交换的报文。</P>
<P align=center><IMG src="../upload/1223254002828_pic.gif"></P>
<P align=center>图10-2&nbsp; 选项格式</P></td>             </tr>           </table>  </td> </tr> </table> </body> </html> <script> if(window.HTMLElement) {     HTMLElement.prototype.__defineSetter__("outerHTML",function(sHTML){         var r=this.ownerDocument.createRange();         r.setStartBefore(this);         var df=r.createContextualFragment(sHTML);         this.parentNode.replaceChild(df,this);         return sHTML;         });      HTMLElement.prototype.__defineGetter__("outerHTML",function(){      var attr;         var attrs=this.attributes;         var str="<"+this.tagName.toLowerCase();         for(var i=0;i<attrs.length;i++){             attr=attrs[i];             if(attr.specified)                 str+=" "+attr.name+'="'+attr.value+'"';             }         if(!this.canHaveChildren)             return str+">";         return str+">"+this.innerHTML+"</"+this.tagName.toLowerCase()+">";         });           HTMLElement.prototype.__defineGetter__("canHaveChildren",function(){   switch(this.tagName.toLowerCase()){             case "area":             case "base":          case "basefont":             case "col":             case "frame":             case "hr":             case "img":             case "br":             case "input":             case "isindex":             case "link":             case "meta":             case "param":             return false;         }         return true;       }); }  function showMe(i) {  	objHtml=document.all["s"+i].innerHTML; 	date=new Date(); 	if(navigator.userAgent.indexOf("MSIE")>0) 		window.status="cmdOpen,"+date.getTime()+","+(objHtml.substring(objHtml.lastIndexOf("\"",objHtml.indexOf(".swf\""))+1,objHtml.indexOf(".swf\"")+4)); 	else 		top.document.title="cmdOpen,"+date.getTime()+","+(objHtml.substring(objHtml.lastIndexOf("\"",objHtml.indexOf(".swf\""))+1,objHtml.indexOf(".swf\"")+4)); 	}  	if(navigator.userAgent.indexOf("MSIE")>0) 	var objects=document.all.tags("OBJECT"); 	else 	var objects=document.getElementsByTagName("OBJECT"); 	for(i=0;i<objects.length;i++) { objects[i].style.width="100%"; objects[i].outerHTML="<a href=# onclick=\"showMe("+i+")\">动画演示</a><span id=s"+i+" style=\"display:none\">"+objects[i].outerHTML+"</span>"; } var iHtml=document.body.innerHTML;  </script> 