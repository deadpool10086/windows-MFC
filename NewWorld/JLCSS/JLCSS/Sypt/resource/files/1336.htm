<html> <head> <meta http-equiv="Content-Type" content="text/html; charset=gb2312" /> <title></title> <link href="inc/style.css" rel="stylesheet" type="text/css"> </head>  <body class=infobody> <table width="100%" height="100%" cellspacing="0">  <tr>  <td valign="top"> <table>   <tr>   <td height=25></td>   </tr>           <table width="100%" border="0" align="center" cellpadding="0" cellspacing="0" style="border-bottom:#1873b5 solid 1px">             <tr><td style="background-image:url(images/cinfo_left.GIF);display:" width="5"></td>               <td width="86" height="28" style="padding-left:4px;padding-right:4px;background-image:url(images/cinfo_center.GIF);color:#3081bd;text-align:center;padding-bottom:0px;padding-top:4px;display:"><nobr>内容摘要</nobr></td> <td style="background-image:url(images/cinfo_right.GIF);display:" width="5"></td>               <td>&nbsp;</td>             </tr>           </table>           <table width="100%" border="0" align="center" cellpadding="5" cellspacing="1" bgcolor="#FFFFFF" style="border:#1873b5 solid 1px;border-top:0px">             <tr>               <td bgcolor="#F5FAFA" style="padding-left:20;padding-right:20px" id="ptitle">一. 单播、多播与广播<BR>&nbsp;&nbsp;&nbsp; 1.&nbsp; 单播<BR>&nbsp;&nbsp;&nbsp; 2.&nbsp; 多播<BR>&nbsp;&nbsp;&nbsp; 3.&nbsp; 广播<BR>二. 组播的地址<BR>&nbsp;&nbsp;&nbsp; 1.&nbsp; 多播组地址到以太网地址的转换</td>             </tr>           </table> <table>   <tr>   <td height=25></td>   </tr>           <table width="100%" border="0" align="center" cellpadding="0" cellspacing="0" style="border-bottom:#1873b5 solid 1px">             <tr><td style="background-image:url(images/cinfo_left.GIF);display:" width="5"></td>               <td width="86" height="28" style="padding-left:4px;padding-right:4px;background-image:url(images/cinfo_center.GIF);color:#3081bd;text-align:center;padding-bottom:0px;padding-top:4px;display:"><nobr>相关内容</nobr></td> <td style="background-image:url(images/cinfo_right.GIF);display:" width="5"></td>               <td>&nbsp;</td>             </tr>           </table>           <table width="100%" border="0" align="center" cellpadding="5" cellspacing="1" bgcolor="#FFFFFF" style="border:#1873b5 solid 1px;border-top:0px">             <tr>               <td bgcolor="#F5FAFA" style="padding-left:20;padding-right:20px" id="ptitle"><P><STRONG>一. 单播、多播与广播</STRONG><BR><STRONG>1.&nbsp; 单播</STRONG><BR>&nbsp;&nbsp;&nbsp; 在单播通信中，源点和终点是一对一的。IP数据报中的源IP地址和目的IP地址分别代表了发送端主机和目的端主机。如下图所示，单播数据包从源点S1出发，经过一些路由器后，到达终点D1。</P>
<P align=center><IMG src="../upload/1222569847718_pic.gif"></P>
<P align=center>图5-1&nbsp; 单播</P>
<P>&nbsp;&nbsp;&nbsp; 路由器收到数据包后，会根据路由表的路由信息，选择一个最佳接口转发这个数据包。如果路由器根据路由表找不到合适的路由，那么就可以丢弃这个数据包。<BR><STRONG>2.&nbsp; 多播</STRONG><BR>&nbsp;&nbsp;&nbsp; 在多播通信中，源点和终点是一对多的关系。在这种类型的通信中，源地址是单播地址，而目的地址是组地址（D类）。组地址定义这个组的成员。下图给出了多播的概念。多播数据包从源点S1出发，然后到达属于组G1的所有终点。</P>
<P align=center><IMG src="../upload/1222569860156_pic.gif"></P>
<P align=center>图5-2&nbsp; 多播</P>
<P>&nbsp;&nbsp;&nbsp; 一个多播数据包从源点出发到达属于组G1的所有终点，路由器收到数据包后可以从它的多个接口转发这个数据包。<BR>&nbsp;&nbsp;&nbsp; 目前，多播路由机制还没有被广泛支持，主要的多播路由机制有距离向量多播路由协议（DVMRP）和协议无关多播（PIM），有关这两种机制，请参考相关资料。<BR><STRONG>3.&nbsp; 广播</STRONG><BR>&nbsp;&nbsp;&nbsp; 在广播通信中，源点和终点是一对多的关系。源点只有一个，但所有其它的主机都是终点。Internet明确地不支持广播，因为这会产生非常巨大的通信量，同时它所需的带宽也是非常巨大的。如果有一个节点要向连接在Internet上的每一个节点发送消息，那么可以想象这将产生多大的通信量。<BR><STRONG>二. 组播的地址</STRONG><BR>&nbsp;&nbsp;&nbsp; 多播使用组地址，IANA（国际因特网地址分配委员会）把D类地址空间用于IP组播地址。所以，IP组播地址的范围是：224.0.0.0―239.255.255.255。其中：</P>
<P align=center>表5-1&nbsp; 组播地址</P>
<P align=center><IMG src="../upload/1222569873703_pic.gif"></P>
<P>&nbsp;&nbsp;&nbsp; 动态的组成员：多播组中的成员是动态的。一个进程可请求其主机参加某个特定的组，或在任意时间退出该组。<BR>&nbsp;&nbsp;&nbsp; 使用硬件进行多播：当数据报传送到以太网时，以太网就利用硬件进行多播，交付给属于该组成员的主机。<BR><STRONG>1.&nbsp; 多播组地址到以太网地址的转换<BR></STRONG>&nbsp;&nbsp;&nbsp; 下图是D类IP地址与以太网多播地址的映射关系。</P>
<P align=center><IMG src="../upload/1239599361078_pic.gif"></P>
<P align=center>图5-3&nbsp; 多播组地址到以太网地址的转换</P>
<P>&nbsp;&nbsp;&nbsp; 在多播中，任何一个以太网地址的首字节必须是01（如图5-3），以太网地址的前25位是0000000100000000010111100这意味着与IP多播相对应的以太网地址范围从01005E000000到01005E7FFFFF。然后将多播IP地址的低23位映射到以太网地址中的低23位。<BR>&nbsp;&nbsp;&nbsp; 由于多播IP地址中的最高5位在映射过程中被忽略，因此每个以太网多播地址对应的多播组是不惟一的。32个不同的多播IP地址被映射为一个以太网地址。既然地址映射不是惟一的，那么设备驱动程序或IP层就必须对数据报进行过滤。因为网卡可能接收到主机不想接收的多播数据帧。另外，如果网卡不提供足够的多播数据帧过滤功能，设备驱动程序就必须接收所有多播数据帧，然后对它们进行过滤。</P></td>             </tr>           </table>  </td> </tr> </table> </body> </html> <script> if(window.HTMLElement) {     HTMLElement.prototype.__defineSetter__("outerHTML",function(sHTML){         var r=this.ownerDocument.createRange();         r.setStartBefore(this);         var df=r.createContextualFragment(sHTML);         this.parentNode.replaceChild(df,this);         return sHTML;         });      HTMLElement.prototype.__defineGetter__("outerHTML",function(){      var attr;         var attrs=this.attributes;         var str="<"+this.tagName.toLowerCase();         for(var i=0;i<attrs.length;i++){             attr=attrs[i];             if(attr.specified)                 str+=" "+attr.name+'="'+attr.value+'"';             }         if(!this.canHaveChildren)             return str+">";         return str+">"+this.innerHTML+"</"+this.tagName.toLowerCase()+">";         });           HTMLElement.prototype.__defineGetter__("canHaveChildren",function(){   switch(this.tagName.toLowerCase()){             case "area":             case "base":          case "basefont":             case "col":             case "frame":             case "hr":             case "img":             case "br":             case "input":             case "isindex":             case "link":             case "meta":             case "param":             return false;         }         return true;       }); }  function showMe(i) {  	objHtml=document.all["s"+i].innerHTML; 	date=new Date(); 	if(navigator.userAgent.indexOf("MSIE")>0) 		window.status="cmdOpen,"+date.getTime()+","+(objHtml.substring(objHtml.lastIndexOf("\"",objHtml.indexOf(".swf\""))+1,objHtml.indexOf(".swf\"")+4)); 	else 		top.document.title="cmdOpen,"+date.getTime()+","+(objHtml.substring(objHtml.lastIndexOf("\"",objHtml.indexOf(".swf\""))+1,objHtml.indexOf(".swf\"")+4)); 	}  	if(navigator.userAgent.indexOf("MSIE")>0) 	var objects=document.all.tags("OBJECT"); 	else 	var objects=document.getElementsByTagName("OBJECT"); 	for(i=0;i<objects.length;i++) { objects[i].style.width="100%"; objects[i].outerHTML="<a href=# onclick=\"showMe("+i+")\">动画演示</a><span id=s"+i+" style=\"display:none\">"+objects[i].outerHTML+"</span>"; } var iHtml=document.body.innerHTML;  </script> 