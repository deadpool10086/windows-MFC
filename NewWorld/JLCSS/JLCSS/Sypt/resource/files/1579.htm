<html> <head> <meta http-equiv="Content-Type" content="text/html; charset=gb2312" /> <title></title> <link href="inc/style.css" rel="stylesheet" type="text/css"> </head>  <body class=infobody> <table width="100%" height="100%" cellspacing="0">  <tr>  <td valign="top"> <table>   <tr>   <td height=25></td>   </tr>           <table width="100%" border="0" align="center" cellpadding="0" cellspacing="0" style="border-bottom:#1873b5 solid 1px">             <tr><td style="background-image:url(images/cinfo_left.GIF);display:" width="5"></td>               <td width="86" height="28" style="padding-left:4px;padding-right:4px;background-image:url(images/cinfo_center.GIF);color:#3081bd;text-align:center;padding-bottom:0px;padding-top:4px;display:"><nobr>内容摘要</nobr></td> <td style="background-image:url(images/cinfo_right.GIF);display:" width="5"></td>               <td>&nbsp;</td>             </tr>           </table>           <table width="100%" border="0" align="center" cellpadding="5" cellspacing="1" bgcolor="#FFFFFF" style="border:#1873b5 solid 1px;border-top:0px">             <tr>               <td bgcolor="#F5FAFA" style="padding-left:20;padding-right:20px" id="ptitle">六.&nbsp;IPv6地址类型<BR>&nbsp;&nbsp;&nbsp; 1.&nbsp; 单播地址<BR>&nbsp;&nbsp;&nbsp; 2.&nbsp; 多播地址<BR>&nbsp;&nbsp;&nbsp; 3.&nbsp; 泛播地址</td>             </tr>           </table> <table>   <tr>   <td height=25></td>   </tr>           <table width="100%" border="0" align="center" cellpadding="0" cellspacing="0" style="border-bottom:#1873b5 solid 1px">             <tr><td style="background-image:url(images/cinfo_left.GIF);display:" width="5"></td>               <td width="86" height="28" style="padding-left:4px;padding-right:4px;background-image:url(images/cinfo_center.GIF);color:#3081bd;text-align:center;padding-bottom:0px;padding-top:4px;display:"><nobr>相关内容</nobr></td> <td style="background-image:url(images/cinfo_right.GIF);display:" width="5"></td>               <td>&nbsp;</td>             </tr>           </table>           <table width="100%" border="0" align="center" cellpadding="5" cellspacing="1" bgcolor="#FFFFFF" style="border:#1873b5 solid 1px;border-top:0px">             <tr>               <td bgcolor="#F5FAFA" style="padding-left:20;padding-right:20px" id="ptitle"><P><STRONG>六.&nbsp;IPv6地址类型</STRONG><BR>&nbsp;&nbsp;&nbsp; IPv6地址分为3类，分别为IPv6单播地址、IPv6多播地址和IPv6泛播地址。<BR><STRONG>1.&nbsp; 单播地址<BR></STRONG>&nbsp;&nbsp;&nbsp; 单播地址标识了这种类型地址的作用域内的单个接口。地址的作用域是指IPv6网络的一个区域，在这个区域中，单播地址是唯一的。在适当的单播路由拓扑结构中，寻址到单播地址的数据包最终会被发送给一个唯一的接口。为了适应负载均衡系统，允许多个接口使用相同的地址，只要它们对于主机上的IPv6协议来说是表现为一个接口。单播IPv6地址包括以下类型：全球单播地址、链路本地地址、站点本地地址、特殊地址、兼容地址、NSAP地址。下面分别介绍这几种单播地址：<BR>&nbsp;&nbsp;&nbsp; （1）全球单播地址：<BR>&nbsp;&nbsp;&nbsp; 全球单播地址也称为全球地址。IPv6全球地址相当于IPv4公共地址。全球单播地址的结构如图1-1所示：</P>
<P align=center><IMG src="../upload/1223260604234_pic.gif"></P>
<P align=center>图1-1&nbsp; 全球单播地址结构</P>
<P>&nbsp;&nbsp;&nbsp; 全球单播地址结构的各个字段含义如下：<BR>&nbsp;&nbsp;&nbsp; 全球路由前缀：表示了一个确定的机构站点的全球路由前缀。它和前三位组成了48位的站点前缀，它被分配给单独的机构站点。一旦一个机构站点被分配了一个全球路由前缀，那么IPv6因特网上的路由器将把符合该站点全球路由前缀的数据包发送到该机构站点的路由器上。<BR>&nbsp;&nbsp;&nbsp; 子网ID：被一个单独的机构用于标识自己站点中的子网。<BR>&nbsp;&nbsp;&nbsp; 接口ID：标识特定子网上的接口。IPv6中的接口ID相当于IPv4中的主机ID。<BR>&nbsp;&nbsp;&nbsp; （2）链路本地地址：<BR>&nbsp;&nbsp;&nbsp; 由格式前缀1111 1110 10标识的链路本地地址用于同一链路上的相邻节点之间的通信。在一个没有路由器的单链路IPv6网络上，链路本地地址用于链路上各主机之间的通信。链路本地地址的作用域是本地链路。链路本地地址的结构如图1-2所示：</P>
<P align=center><IMG src="../upload/1223260612046_pic.gif"></P>
<P align=center>图1-2&nbsp; 链路本地地址结构</P>
<P>&nbsp;&nbsp;&nbsp; 链路本地地址对于邻节点发现过程是必须的，并且总是自动配置的，甚至在没有其它任何单播地址时也是如此。链路本地地址总是以FE80开始。因为有64位的接口标识符，所以链路本地地址的前缀总是FE80::/64。IPv6路由器从来不会通过这个链路转发链路本地的通信流。<BR>&nbsp;&nbsp;&nbsp; （3）站点本地地址：<BR>&nbsp;&nbsp;&nbsp; 站点本地地址由格式前缀1111 1110 11 来标识。站点本地地址相当于IPv4的私有地址空间（10.0.0.0/8、172.16.0.0/12和192.168.0.0/16）。这样，没有直接连接到IPv6 Internet的路由的私有内部网就可以使用站点本地地址，从而不会与全球地址发生冲突。站点本地地址对于外部站点是不可达的，并且路由器不能把本地站点的通信流转发到此站点以外。站点本地地址的作用范围是该站点。站点本地地址的结构如图1-3所示：</P>
<P align=center><IMG src="../upload/1223260618609_pic.gif"></P>
<P align=center>图1-3&nbsp; 站点本地地址结构</P>
<P>&nbsp;&nbsp;&nbsp; 与链路本地地址不同，站点本地地址不是自动配置的，它必须通过无状态或有状态的地址自动配置方法来进行指派。对于站点本地地址，以FEC0::/10开始。固定的10位之后是54位的子网标识符，利用这54位，您可以在自己机构内创建子网。<BR>&nbsp;&nbsp;&nbsp; （4）特殊地址：<BR>&nbsp;&nbsp;&nbsp; 特殊的地址包括未指定地址和回环地址。<BR>&nbsp;&nbsp;&nbsp; 未指定地址：未指定地址（0:0:0:0:0:0:0:0或::）只用于表示缺席。它相当于IPv4的未指定地址0.0.0.0。当一个有效地址还不确定时，一般用未指定地址作为源地址。未指定地址从不会分配给一个接口，或者作为一个目的地址来使用。<BR>&nbsp;&nbsp;&nbsp; 回环地址：回环地址（0:0:0:0:0:0:0:1或::1）用于标识一个回环接口，以使一个节点可以给自己发送数据包。它相当于IPv4的回环地址127.0.0.1。发向回环地址的数据包不会在一个链路上发送，也不会被IPv6路由器转发。<BR>&nbsp;&nbsp;&nbsp; （5）兼容地址：<BR>&nbsp;&nbsp;&nbsp; 兼容地址主要包括IPv4兼容地址、IPv4映射地址、6over4地址、6to4地址以及ISATAP地址。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; IPv4兼容地址：用于IPv6/IPv4节点，它使IPv6/IPv4节点可以通过IPv4网络与IPv6节点进行通信。格式为::w.x.y.z（这里的w.x.y.z是公共IPv4地址的点分十进制表示）。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; IPv4映射地址：用于将一个IPv4-only节点表示为一个IPv6节点，它仅用于内部表示。不用作IPv6数据包的源地址和目的地址。格式为::FFFF:w.x.y.z。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 6over4地址：由一个有效的64位单播地址前缀和接口标识符::WWXX:YYZZ所组成（这里WWXX:YYZZ是接口的单播IPv4地址w.x.y.z的冒号十六进制表示）。当使用自动隧道机制时，系统会将6over4地址分配给一个连接到支持多播IPv4网络结构中的IPv6节点。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; 6to4地址：该地址基于前缀2002:WWXX:YYZZ::/48（这里WWXX:YYZZ是公共IPv4地址w.x.y.z的冒号十六进制表示）。当使用自动隧道机制时，6to4地址前缀用于创建站点的全球地址前缀，以及站点中的IPv6节点的全球地址。<BR>&nbsp;&nbsp;&nbsp; ●&nbsp; ISATAP地址：该地址由一个有效的64位IPv4单播地址前缀和接口标识符::0:5EFE:w.x.y.z所组成（这里的w.x.y.z是一个接口的单播IPv4地址）。当使用题为“站间自动隧道寻址协议（ISATAP）”的Internet 草案中定义的自动隧道机制时，系统会将使用ISATAP接口标识符的地址分配给IPv6/IPv4节点。<BR>&nbsp;&nbsp;&nbsp; （6）NSAP地址：<BR>&nbsp;&nbsp;&nbsp; 为提供一种将开放系统互连（OSI）的NSAP地址映射为IPv6地址的方法，NSAP地址使用格式前缀0000001，并将NSAP地址的后121位映射为IPv6地址。<BR><STRONG>2.&nbsp; 多播地址<BR></STRONG>&nbsp;&nbsp;&nbsp; 多播地址标识零个或多个接口。在适当的多播路由拓扑结构中，寻址到多播地址的数据包最终会被发送给被这个地址所标识的所有接口（详见实验四）。<BR><STRONG>3.&nbsp; 泛播地址</STRONG><BR>&nbsp;&nbsp;&nbsp; 一个泛播地址可以被同时分配给多于一个的属于不同节点的网络接口。其特点是以泛播地址为目的地址的数据包会被转发到根据路由协议测量的距离最近的接口上。目前互联网上还没有广泛、任意使用泛播地址的经验，而且有一些已知的大量使用泛播带来的复杂性和危险性。基于这些理由，关于IPv6泛播地址有以下严格要求：泛播地址不能作为一个IPv6数据包的源地址；一个泛播地址不能分配给一个主机，也就是说泛播地址只能分配给路由器。<BR>&nbsp;&nbsp;&nbsp; 必须的泛播地址：子网路由器泛播地址是预定义的，其n位为子网前缀，后面128－n位为0。<BR>&nbsp;&nbsp;&nbsp; 保留的泛播地址：除了子网－路由器泛播地址之外，还有两个保留的泛播地址，要记住的一个简单规则是：如果地址的开始位不等于000，则该接口ID是64位；如果地址的开始位等于000，那么该接口ID可以是任意位。</P></td>             </tr>           </table>  </td> </tr> </table> </body> </html> <script> if(window.HTMLElement) {     HTMLElement.prototype.__defineSetter__("outerHTML",function(sHTML){         var r=this.ownerDocument.createRange();         r.setStartBefore(this);         var df=r.createContextualFragment(sHTML);         this.parentNode.replaceChild(df,this);         return sHTML;         });      HTMLElement.prototype.__defineGetter__("outerHTML",function(){      var attr;         var attrs=this.attributes;         var str="<"+this.tagName.toLowerCase();         for(var i=0;i<attrs.length;i++){             attr=attrs[i];             if(attr.specified)                 str+=" "+attr.name+'="'+attr.value+'"';             }         if(!this.canHaveChildren)             return str+">";         return str+">"+this.innerHTML+"</"+this.tagName.toLowerCase()+">";         });           HTMLElement.prototype.__defineGetter__("canHaveChildren",function(){   switch(this.tagName.toLowerCase()){             case "area":             case "base":          case "basefont":             case "col":             case "frame":             case "hr":             case "img":             case "br":             case "input":             case "isindex":             case "link":             case "meta":             case "param":             return false;         }         return true;       }); }  function showMe(i) {  	objHtml=document.all["s"+i].innerHTML; 	date=new Date(); 	if(navigator.userAgent.indexOf("MSIE")>0) 		window.status="cmdOpen,"+date.getTime()+","+(objHtml.substring(objHtml.lastIndexOf("\"",objHtml.indexOf(".swf\""))+1,objHtml.indexOf(".swf\"")+4)); 	else 		top.document.title="cmdOpen,"+date.getTime()+","+(objHtml.substring(objHtml.lastIndexOf("\"",objHtml.indexOf(".swf\""))+1,objHtml.indexOf(".swf\"")+4)); 	}  	if(navigator.userAgent.indexOf("MSIE")>0) 	var objects=document.all.tags("OBJECT"); 	else 	var objects=document.getElementsByTagName("OBJECT"); 	for(i=0;i<objects.length;i++) { objects[i].style.width="100%"; objects[i].outerHTML="<a href=# onclick=\"showMe("+i+")\">动画演示</a><span id=s"+i+" style=\"display:none\">"+objects[i].outerHTML+"</span>"; } var iHtml=document.body.innerHTML;  </script> 